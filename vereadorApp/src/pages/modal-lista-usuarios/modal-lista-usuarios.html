<!--
  Generated template for the ModalListaUsuarios page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-toolbar color="laranja">
    <ion-title *ngIf="usuariosSelecionados.length == 0">
      Selecione o usuario
    </ion-title>

    <ion-title *ngIf="usuariosSelecionados.length != 0">
      {{usuariosSelecionados.length}} Selecionadas
    </ion-title>
    <ion-buttons start>
      <button ion-button (click)="cancel()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content padding>
  <ion-searchbar (ionInput)="getItems($event)" [(ngModel)]="searchQuery"></ion-searchbar>
  <ion-list [virtualScroll]="useraux">

    <ion-item *virtualItem="let user" (click)="selecionarUser(user)" (press)="iniciarSelecao(user)" [style.background-color]="corBackground(user)">
      <ion-avatar item-left>
        <img [src]="user.fotoURL">
      </ion-avatar>
      <h2>{{ user.nome }}</h2>
      <p>{{ user.email }}</p>
    </ion-item>

  </ion-list>

</ion-content>

<ion-footer>
  <ion-grid>
    <ion-row>
      <ion-col>
        <button ion-button color="secondary" large full (click) = "limparSelecao()">Limpar</button>
      </ion-col>
      <ion-col>
        <button ion-button color="secondary" large full (click)= "confirmarSelecoes()">OK</button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>